<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Attrape-Souris</title>
  <script src="https://cdn.jsdelivr.net/npm/p5@1.6.0/lib/p5.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    canvas {
      display: block;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <h1>Chat Attrape-Souris üê±</h1>
  <p>D√©placez le chat avec la souris pour attraper les souris et √©viter les autres objets !</p>
  <p id="score">Score : 0</p>
  <p id="errors">Erreurs : 0</p>
  <script>
    // Images encod√©es en base64
    const CAT_BASE64 = "data:image/png;base64,..."; // Remplacez par une vraie image de chat
    const MOUSE_BASE64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACAUlEQVR4nO3XQYrCQBRA0c+SFk3PnoUc5B6BzYudmjiOx3Owfe+SzDU+2kH2q9vG6EY8MAQIFFCgZ+Ab3zSdq3t6Is2cZ82v2nR6xrt9fQM1+DIZNgCNDcR6y9gN3v6d7clFtSgwhLzvATr1t2bHGpG8wtKyL5rMAk9/cQJ/LrMC7WSwB7cF6DEy7UT1fslgX1nPGXigH52nZ8/H0rScfVXy2QVn7GPc6LLlIO5d1KW9IJxO56lRZqY+rxflrICk70KFNRihE8NT5afrel3+Bzij+WRq6r3k9bQOsraM93zBqe8X6b2qgN7EL+MXIZNkCo2WUfik0Geg3cYMdPinG0S505U0gRM/+iqRPfrd51n9Gr2v+udQn4vBGX+qzbqe8f12JqdfSO8PhAP3GlyA/OtCJAAAAAElFTkSuQmCC";
    const APPLE_BASE64 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACQ0lEQVR4nO3WS4hUURQG4H8QBanLQUBJMY/gPlD9D5lAoleIKKv2CL+HO1GLgUgKyJCCxGwFPGC51AQQIHDphTlO12TZvbS6zZ4HO/ufec7MznrpVF1WN1WuAqJImAxAk4R4TYkGR4yqrl2opRu3I8h6qg6hCLMHSw8NwnRMOb3KL9vIGb8y5hnO9kXcTETI3QE9+yoCV8kB9CY+Z6nXTXtjZ94DVd7zgkydAF+ij/dkP0Pt2OAY/sXw65iJ+1sglAm+Y3c7ChJqB9KmxuGaFdphGhGjS3rc8dM/xRzvky3sqS+YGl6KwpT3Bexh55cFnNEX1Z8Iy8bbiOZy9TL4cLzfw86CXnExOis1MxPfMYbrUJ6k9f8GPKPdnpLMoJ9ixdK9uK0aDJHAid9MCZ5v+koA7odHRicqDL6neKG97UwL6iMElkh19V9EBfUyOdXKgRIb1UL9m3DFn2mMfOpParBuvvK+Gc7qmswMN4Cs/6uF8pQIF+iywpCbxJsOgkmXCOWimCXzQT8OAT/eBVfui4iE7c9KgF3yNCNYKMxQFNzzREy2/m1CqkpyBZ/rwDJuiiRL4SSlS+Bk4Ch3cJOKhPr9n8IYVDnIITTXAp/kUVjr0dBTuYM+EiBqHe+y8vSzpnkEstI1KWyB/IZyiNzhlAf5TDVy29thX+4vwT8HK3aKek7roAAAAASUVORK5CYII=";
    const SHOE_BASE64 = "data:image/png;base64,..."; // Remplacez par une vraie image de chaussure

    let cat, mouse, objects = [];
    let fallingObjects = [];
    let score = 0;
    let errors = 0;
    const MAX_ERRORS = 10;

    function preload() {
      cat = loadImage(CAT_BASE64);
      mouse = loadImage(MOUSE_BASE64);
      objects = [
        loadImage(APPLE_BASE64),
        loadImage(SHOE_BASE64)
      ];
    }

    function setup() {
      createCanvas(800, 600);
      noCursor();

      for (let i = 0; i < 10; i++) {
        fallingObjects.push({
          x: random(width),
          y: random(-height, 0),
          type: random(['mouse', 'object']),
          img: random(objects),
          speed: random(2, 5)
        });
      }
    }

    function draw() {
      background(220);
      image(cat, mouseX - 50, height - 100, 100, 100);

      for (let obj of fallingObjects) {
        if (obj.type === 'mouse') {
          image(mouse, obj.x, obj.y, 50, 50);
        } else {
          image(obj.img, obj.x, obj.y, 50, 50);
        }

        obj.y += obj.speed;

        if (obj.y > height) resetFallingObject(obj);

        if (obj.y > height - 150 && obj.x > mouseX - 50 && obj.x < mouseX + 50) {
          if (obj.type === 'mouse') {
            score++;
          } else {
            errors++;
          }

          document.getElementById('score').textContent = `Score : ${score}`;
          document.getElementById('errors').textContent = `Erreurs : ${errors}`;
          resetFallingObject(obj);
        }
      }

      if (errors >= MAX_ERRORS) {
        noLoop();
        textSize(32);
        fill(255, 0, 0);
        text('Game Over !', width / 2 - 80, height / 2);
      }
    }

    function resetFallingObject(obj) {
      obj.y = random(-height, 0);
      obj.x = random(width);
      obj.type = random(['mouse', 'object']);
      obj.img = random(objects);
    }
  </script>
</body>
</html>
